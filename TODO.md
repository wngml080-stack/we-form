## We:form TODO 리스트

### ✅ 진행 상황 체크리스트

- [x] 1. 기초 공사: Next.js + Supabase + Shadcn UI 세팅, DB 테이블 구축.
- [x] 2. 인증 & 보안: 로그인(Role 기반 리다이렉트), 퇴사자 및 승인 대기 센터 로그인 차단 로직.
- [x] 3. 강사 앱 (Mobile): FullCalendar 스케줄러, 수업 등록/상태변경(4버튼), FAB 버튼, 한글 패치.
- [x] 4. 자동화 (n8n): API Proxy(`/api/n8n`) 구축, 구글 시트 실시간 연동, 데이터 매핑.
- [x] 5. 지점 관리자 (Admin): 직원 목록 조회, 정보 수정(직책/상태), 직원 수동 등록(마스터키 API).
- [x] 6. 본사(HQ) 기능: 슈퍼 관리자 전용 지점 생성 및 지점장 임명 페이지(`/admin/hq`).
- [x] 7. 고도화된 가입: 회원가입 페이지(`signup`)를 "센터 신규 등록"과 "직원 입사 신청" 탭으로 분리.
- [x] 8. 승인 시스템: 지점 관리자가 "가입 대기" 직원을 승인하는 기능.

### 🔜 다음 단계 (ERD 리팩터링 이후)

- [ ] 9. ERD 적용 마이그레이션 1단계: 새 테이블/컬럼 추가 (`members`, `attendances` 등) 및 멀티테넌시 키 보완.
- [ ] 10. ERD 적용 마이그레이션 2단계: 기존 API/화면을 새 구조와 겸용하도록 수정 (스케줄·회원·매출 도메인).
- [ ] 11. ERD 적용 마이그레이션 3~4단계: 데이터 이전 스크립트(n8n/SQL) 실행 후 구 스키마 정리 및 RLS 강화.
- [ ] 12. RLS 실제 적용: `ERD.md`의 RLS 설계 초안을 기반으로 Supabase SQL RLS 정책 작성 및 테스트.
- [ ] 13. 스케줄/출석/급여 UI 고도화: `/admin/schedule`, `/staff` 화면을 `schedules`+`attendances`+`salary_settings` 구조에 맞게 리팩터링.
- [ ] 14. n8n Proxy 개선: `/api/n8n` 에서 `N8N_WEBHOOK_URL` 환경변수 사용, 실패 시 콘솔 로그만 남기고 UX는 최소 영향.
- [ ] 15. 문서 동기화: ERD 변경·마이그레이션 완료 후 `ERD.md`, `PROMPTS.md`, 이 TODO 리스트를 실제 스키마와 일치하도록 업데이트.

### 📌 참고

- 새로운 기능을 추가할 때마다:
  - [ ] RLS 정책이 충분한지 검토
  - [ ] 멀티테넌시(`gym_id`) 필터가 누락되지 않았는지 확인
  - [ ] 이 TODO 리스트와 `PROMPTS.md` 에 히스토리를 업데이트


